# Blackjack Game


## Описание
Это реализация игры в Blackjack на Python. Игра позволяет игрокам = ботам с различными стратегиями, соревноваться с дилером. Игра включает в себя систему ставок, раздачу карт и логику определения победителя.

## Функциональные возможности
- Игроки и дилер получают карты из колоды.
- Игроки могут ставить ставки и делать ходы в зависимости от их текущей суммы очков.
- Боты имеют разные стратегии игры: "Aggressive", "Conservative", "Risky", "Basic" и "Adaptive".
- Определение победителя на основе стандартных правил Blackjack.

## Правила игры
1. **Цель игры**: Основная цель — набрать 21 очко или максимально близкое к нему, не превышая 21.
2. **Карты**:
   - Ранги карт 2-10 имеют значение, соответствующее их числовому значению.
   - Валеты (J), Дамы (Q) и Короли (K) стоят 10 очков.
   - Тузы (A) могут стоить 1 или 11 очков, в зависимости от того, что выгоднее для игрока.
3. **Начало игры**:
   - Игра начинается с того, что игроки делают свои ставки.
   - Каждому игроку и дилеру раздаются по две карты (одна из карт дилера скрыта).
4. **Игровой процесс**:
   - Игроки по очереди делают свои ходы, могут взять дополнительные карты (hit) или остановиться (stand).
   - Если сумма очков игрока превышает 21, он «сгорает» (bust) и теряет ставку.
5. **Ход дилера**:
   - После того как все игроки завершили свои ходы, дилер открывает свою скрытую карту.
   - Дилер должен продолжать брать карты, пока его сумма очков меньше 17.
6. **Определение победителя**:
   - Игроки выигрывают, если их сумма очков выше, чем у дилера, или если у дилера «сгорел».
   - Если у игрока и дилера одинаковое количество очков, игра считается ничьей, и ставка возвращается игроку.
   - Если сумма очков игрока меньше суммы очков дилера, игрок проигрывает свою ставку.

## Механика ставок
*(1 к 1 для простоты реализации, а не как в википедии(там 3 к 2 в случае выигрыша))*

- Каждый игрок начинает с балансом в 200 единиц.
- Перед началом каждого раунда игроки делают ставки, выбирая сумму в пределах их текущего баланса.
- Ставка не может превышать баланс игрока.
- Ставки фиксируются в начале раунда, и после определения победителя игроки могут потерять или выиграть свои ставки в зависимости от результатов игры.
- В случае выигрыша игрока, его ставка удваивается и добавляется к балансу, а в случае проигрыша ставка вычитается из баланса.
- Если игра заканчивается вничью, ставка возвращается игроку.

## Стратегии ботов
В игре используются пять стратегий, определяющие поведение ботов:

1. **Aggressive (Агрессивная)**:
   - Боты, использующие эту стратегию, продолжают брать карты, пока их сумма очков не достигнет 19 или выше. Это может привести к большему количеству рисков, но также и к возможности получения высокой суммы очков.

2. **Conservative (Консервативная)**:
   - Боты с консервативной стратегией берут карты только до тех пор, пока их сумма очков не достигнет 15. Это позволяет минимизировать риск сгорания, но может также ограничить их шансы на победу.

3. **Risky (Рисковая)**:
   - Боты, использующие рискованную стратегию, продолжают брать карты, пока их сумма очков не достигнет 20. Эта стратегия может привести к высоким выигрышам, но также увеличивает риск сгорания.

4. **Basic (Базовая)**:
   - Эта стратегия следует базовым принципам игры в Blackjack, избегая излишних рисков, но и не будучи слишком консервативной. Игроки берут дополнительные карты до тех пор, пока их сумма очков не достигнет 17.

5. **Adaptive (Адаптивная)**:
   - Эта стратегия выбирает стиль игры бота в зависимости от результатов предыдущего раунда и размера последней ставки.
    Если бот проиграл в прошлом раунде, он применяет консервативный стиль, минимизируя риск сгорания, в случае выигрыша с крупной ставкой — переходит на агрессивный стиль, стремясь повысить выигрыш. Во всех остальных случаях бот использует базовый стиль, сосредоточенный на сбалансированном подходе.

### Выбор стратегии
Стратегии распределяются между ботами в циклическом порядке: каждому боту присваивается следующая стратегия из списка стратегий, что позволяет сохранить разнообразие в игре и гарантировать наличие разных стратегий в каждом раунде.

## Структура проекта
В папке `blackjack_game/src` представлены:
- `card.py`: Класс для представления карты с рангом и мастью.
- `deck.py`: Класс для представления колоды карт с возможностью их тасования и раздачи.
- `player.py`: Классы для представления игрока, дилера и ботов.
- `game.py`: Класс для управления игровой логикой, включая раздачу карт, ставки и определение победителя.
- `strategy.py`: Класс для представления стратегий.

## Пример работы
- В папке `blackjack_game/examples` представлен пример запуска игры.


## UML-Диаграмма
- В папке `blackjack_game/UML` представлена диаграмма классов.
